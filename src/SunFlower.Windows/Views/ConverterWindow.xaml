<hc:Window x:Class="SunFlower.Windows.Views.ConverterWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:SunFlower.Windows.ViewModels"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Background="{StaticResource RegionBrush}"
        Title="Convert" 
        SizeToContent="WidthAndHeight">
    <hc:Window.DataContext>
        <local:ConverterWindowViewModel/>
    </hc:Window.DataContext>
    <Grid>
        <!--Totally MVVM driven Window -->
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!--What needs to be converted-->
        <StackPanel
            Orientation="Vertical">
            <TextBlock 
                MaxWidth="300"
                TextWrapping="WrapWithOverflow"
                Foreground="{DynamicResource PrimaryTextBrush}">
                <LineBreak/>
                <Run Text="Converter gives result in real-time and support keybindings special for result field"/>
                <LineBreak/>
                <Run Text="[Enter] to Update result"/>
                <LineBreak/>
                <Run Text="[Shift]+[Enter] to Delete '-'chars from result string"/>
                <LineBreak/>
                <Run Text="[Ctrl]+R to Reverse the input"/>
                <LineBreak/>
            </TextBlock>
            <WrapPanel
                HorizontalAlignment="Center"
                Margin="10"
                VerticalAlignment="Center">
            
                <TextBox
                    FontFamily="Consolas"
                    Text="{Binding Target, UpdateSourceTrigger=PropertyChanged}"
                    Width="300">
                    <i:Interaction.Triggers>
                        <i:KeyTrigger
                            Key="Enter">
                            <i:InvokeCommandAction 
                                Command="{Binding UpdateCommand}"/>
                        </i:KeyTrigger>
                        <i:KeyTrigger
                            Modifiers="Shift"
                            Key="Enter">
                            <i:InvokeCommandAction
                                Command="{Binding DeleteSpacingCommand}"/>
                        </i:KeyTrigger>
                        <i:KeyTrigger
                            Modifiers="Control"
                            Key="R">
                            <i:InvokeCommandAction
                                Command="{Binding ReverseStringCommand}"
                                CommandParameter="_"/>
                        </i:KeyTrigger>
                    </i:Interaction.Triggers>
                </TextBox>
            
                <ComboBox Width="200" SelectedIndex="{Binding Index}">
                    <ComboBoxItem Content="ASCII String -> Bytes"/>
                    <ComboBoxItem Content="Unicode String -> Words"/>
                    <ComboBoxItem Content="Bytes -> ASCII String"/>
                </ComboBox>
            </WrapPanel>
        </StackPanel>
        
        <hc:SimplePanel
            Margin="10, 0, 10, 10"
            Grid.Row="1">
            <TextBox
                FontFamily="Consolas"
                Text="{Binding Bytes, UpdateSourceTrigger=PropertyChanged}"
                IsReadOnly="True"
                Width="500"></TextBox>
        </hc:SimplePanel>
        <!--Results of convertion-->
    </Grid>
</hc:Window>
